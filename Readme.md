## Логика анализа текста

В программе присутствуют два критерия оценки текста:
- `redflags` - если в тексте присутствует хотя бы одна фраза, словосочетание или слово, содержащиеся в `redflags`, 
то текст обозначается *100% попадающим под фильтр* и отправляется дальше.  
`redflags` - список, хранящийся в файле `FLAGS.json` по ключу `redflags`.
- `yellowflags` - если в лемматизированном тексте присутствует более `N` слов из `yellowflags`, 
то текст обозначается как *возможно попадающим под фильтр* и отправляется дальше.  
`yellowflags` - список, хранящийся в файле `FLAGS.json` по ключу `yellowflags`.

## Логика функций

1. `get_posts` - получает на вход домен и отправляет `get` запрос, получая в ответе `100 постов`.  
   - Во-первых, функция проверяет дату публикации поста. 
   Если дата поста != сегодняшняя дата, то текущий и все следующие за ним посты пропускаются.  
   - Во-вторых, функция проверяет сырой текст на наличие `redflags`.
     - Если `redflags` не найдены, то лемметизирует текст и проверяет `yellowflags`. 
       - Если найдено более `N` `yellowflags`, то помечает текст как `yellowflag` 
         и добавляет в словарь, который добавляется в список `result`.
       - В противном случае пропускает этот комментарий.
     - В противном случае помечает текст как `redflag` И добавляет в словарь, который добавляется в список `result`.
   - В-третьих, возвращает следующие данные:
     - `ID поста`
     - `ID группы`
     - `flag type`
     - `ID Автора поста` (_Optional_)
     - `Текст поста`

2. `get_comments` - получает на вход `ID поста` и `ID группы` и отправляет `get` запрос, 
получая в ответе все комментарии.
   - Во-первых, функция проверяет текст комментария на `redflags`. 
     - Если `redflags` не найдены - лемметизирует текст и проверяет на `yellowflags`.
       - Если найдено более `N` `yellowflags`, то помечает текст как `yellowflag`
       - В противном случае пропускает сообщение.
     - Если найдены - помечает комментарий как `redflag`.
   - Во-вторых, 
     - Если текст комментария попал под один из фильтров, то проверяется каждый комментарий из обсуждения.
     - Если нет, то комментарий пропускается
   - В-третьих, функция возвращает следующие значения:
     - `ID Автора комментария`
     - `Текст комментария`
     - `flag type`
     - `Ответы на комментарий`:
       - `ID ответившего`
       - `Текст ответа`
       - `flag type`
   - В-четвертых, функция отправляет данные сразу в две функции `get_users` (_пункт 3_) и `get_groups` (_пункт 4_).

3. `get_users` - получает на вход `ID пользователя` и отправляет `get` запрос, 
получая в ответе информацию о пользователях, которую потом возвращает:
   - Имя
   - Фамилия
   - Ссылка на фото
   - Город (Optional)
   - Страна (Optional)
   - Дата рождения (Optional)
   - Пол (Optional)

4. `get_groups` - получает на вход `ID пользователя` и отправляет `get` запрос, 
получая в ответе все группы пользователя в виде списка.  
Добавляет группы в глобальный словарь, инвертируя модель, в которой Пользователь был объектом, а группа атрибутом.  
В словарь по ключу `ID группы` добавляется ссылка на пользователя.
